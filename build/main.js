/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MyPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var path = __toESM(require("path"));
var DEFAULT_SETTINGS = {
  autoRename: true,
  convertToWEBP: true,
  convertToJPG: false,
  convertToPNG: false,
  convertTo: "",
  quality: 0.75,
  dirpath: "",
  resizeMode: "None",
  desiredWidth: 600,
  desiredHeight: 800,
  desiredLength: 800
};
var MyPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerEvent(
      this.app.vault.on("create", (file) => {
        if (!(file instanceof import_obsidian.TFile))
          return;
        const timeGapMs = Date.now() - file.stat.ctime;
        if (timeGapMs > 1e3)
          return;
        if (isImage(file)) {
          console.log("pasted image created", file);
          this.renameFile(file);
        }
      })
    );
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  async renameFile(file) {
    const activeFile = this.getActiveFile();
    if (!activeFile) {
      new import_obsidian.Notice("Error: No active file found.");
      return;
    }
    let newName = await this.keepOrgName(file, activeFile);
    if (this.settings.autoRename) {
      newName = await this.generateNewName(file, activeFile);
    }
    const sourcePath = activeFile.path;
    let newPath = "";
    newPath = this.settings.dirpath;
    console.log("newPath is set to:", newPath);
    const originName = file.name;
    const binary = await this.app.vault.readBinary(file);
    const imgBlob = new Blob([binary], { type: `image/${file.extension}` });
    if (this.settings.convertTo === "webp") {
      const arrayBufferWebP = await convertToWebP(
        imgBlob,
        Number(this.settings.quality),
        this.settings.resizeMode,
        this.settings.desiredWidth,
        this.settings.desiredHeight,
        this.settings.desiredLength
      );
      await this.app.vault.modifyBinary(file, arrayBufferWebP);
    } else if (this.settings.convertTo === "jpg") {
      const arrayBufferJPG = await convertToJPG(
        imgBlob,
        Number(this.settings.quality),
        this.settings.resizeMode,
        this.settings.desiredWidth,
        this.settings.desiredHeight,
        this.settings.desiredLength
      );
      await this.app.vault.modifyBinary(file, arrayBufferJPG);
    } else if (this.settings.convertTo === "png") {
      const arrayBufferPNG = await convertToPNG(
        imgBlob,
        Number(this.settings.quality),
        this.settings.resizeMode,
        this.settings.desiredWidth,
        this.settings.desiredHeight,
        this.settings.desiredLength
      );
      await this.app.vault.modifyBinary(file, arrayBufferPNG);
    } else {
      new import_obsidian.Notice("Error: No format selected for conversion.");
      return;
    }
    const linkText = this.makeLinkText(file, sourcePath);
    newPath = path.join(newPath, newName);
    try {
      await this.app.vault.rename(file, newPath);
    } catch (err) {
      new import_obsidian.Notice(`Failed to rename ${newName}: ${err}`);
      throw err;
    }
    const newLinkText = this.makeLinkText(file, sourcePath);
    console.log("replace text", linkText, newLinkText);
    const editor = this.getActiveEditor(sourcePath);
    if (!editor) {
      new import_obsidian.Notice(`Failed to rename ${newName}: no active editor`);
      return;
    }
    const cursor = editor.getCursor();
    const line = editor.getLine(cursor.line);
    console.log("current line", line);
    editor.transaction({
      changes: [
        {
          from: { ...cursor, ch: 0 },
          to: { ...cursor, ch: line.length },
          text: line.replace(linkText, newLinkText)
        }
      ]
    });
    new import_obsidian.Notice(`Renamed ${originName} to ${newName}`);
  }
  makeLinkText(file, sourcePath, subpath) {
    return this.app.fileManager.generateMarkdownLink(file, sourcePath, subpath);
  }
  async generateNewName(file, activeFile) {
    const newName = activeFile.basename + "-" + new Date().toISOString().replace(/[-:T.Z]/g, "");
    let extension = file.extension;
    if (this.settings.convertTo) {
      extension = this.settings.convertTo;
    }
    return `${newName}.${extension}`;
  }
  async keepOrgName(file, activeFile) {
    const newName = file.basename;
    let extension = file.extension;
    if (this.settings.convertTo) {
      extension = this.settings.convertTo;
    }
    return `${newName}.${extension}`;
  }
  getActiveFile() {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    const file = view == null ? void 0 : view.file;
    console.log("active file", file == null ? void 0 : file.path);
    if (file) {
      return file;
    }
    return void 0;
  }
  getActiveEditor(sourcePath) {
    const view = this.app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
    if (view && view.file && view.file.path === sourcePath) {
      return view.editor;
    }
    return null;
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
function isImage(file) {
  const IMAGE_EXTS = ["jpg", "jpeg", "png", "webp"];
  return IMAGE_EXTS.includes(file.extension.toLowerCase());
}
function convertToWebP(file, quality, resizeMode, desiredWidth, desiredHeight, desiredLength) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = (e) => {
      if (!e.target || !e.target.result) {
        reject(new Error("Failed to load file"));
        return;
      }
      const image = new Image();
      image.onload = () => {
        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");
        if (!context) {
          reject(new Error("Failed to get canvas context"));
          return;
        }
        let imageWidth = 0;
        let imageHeight = 0;
        const aspectRatio = image.naturalWidth / image.naturalHeight;
        switch (resizeMode) {
          case "None":
            imageWidth = image.naturalWidth;
            imageHeight = image.naturalHeight;
            break;
          case "Fit":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Fill":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            } else {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            }
            break;
          case "LongestSide":
            if (image.naturalWidth > image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "ShortestSide":
            if (image.naturalWidth < image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Width":
            imageWidth = desiredWidth;
            imageHeight = desiredWidth / aspectRatio;
            break;
          case "Height":
            imageHeight = desiredHeight;
            imageWidth = desiredHeight * aspectRatio;
            break;
        }
        let data = "";
        canvas.width = resizeMode === "Fill" ? desiredWidth : imageWidth;
        canvas.height = resizeMode === "Fill" ? desiredHeight : imageHeight;
        context.fillStyle = "#fff";
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.save();
        context.translate(canvas.width / 2, canvas.height / 2);
        context.drawImage(
          image,
          0,
          0,
          resizeMode === "Fill" ? Math.min(image.naturalWidth, image.naturalHeight * aspectRatio) : image.naturalWidth,
          resizeMode === "Fill" ? Math.min(image.naturalHeight, image.naturalWidth / aspectRatio) : image.naturalHeight,
          -imageWidth / 2,
          -imageHeight / 2,
          resizeMode === "Fill" ? desiredWidth : imageWidth,
          resizeMode === "Fill" ? desiredHeight : imageHeight
        );
        context.restore();
        data = canvas.toDataURL("image/webp", quality);
        const arrayBuffer = base64ToArrayBuffer(data);
        resolve(arrayBuffer);
      };
      image.src = e.target.result.toString();
    };
    reader.readAsDataURL(file);
  });
}
function convertToJPG(imgBlob, quality, resizeMode, desiredWidth, desiredHeight, desiredLength) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = (e) => {
      if (!e.target || !e.target.result) {
        reject(new Error("Failed to load file"));
        return;
      }
      const image = new Image();
      image.onload = () => {
        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");
        if (!context) {
          reject(new Error("Failed to get canvas context"));
          return;
        }
        let imageWidth = 0;
        let imageHeight = 0;
        const aspectRatio = image.naturalWidth / image.naturalHeight;
        switch (resizeMode) {
          case "None":
            imageWidth = image.naturalWidth;
            imageHeight = image.naturalHeight;
            break;
          case "Fit":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Fill":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            } else {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            }
            break;
          case "LongestSide":
            if (image.naturalWidth > image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "ShortestSide":
            if (image.naturalWidth < image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Width":
            imageWidth = desiredWidth;
            imageHeight = desiredWidth / aspectRatio;
            break;
          case "Height":
            imageHeight = desiredHeight;
            imageWidth = desiredHeight * aspectRatio;
            break;
        }
        let data = "";
        canvas.width = resizeMode === "Fill" ? desiredWidth : imageWidth;
        canvas.height = resizeMode === "Fill" ? desiredHeight : imageHeight;
        context.fillStyle = "#fff";
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.save();
        context.translate(canvas.width / 2, canvas.height / 2);
        context.drawImage(
          image,
          0,
          0,
          resizeMode === "Fill" ? Math.min(image.naturalWidth, image.naturalHeight * aspectRatio) : image.naturalWidth,
          resizeMode === "Fill" ? Math.min(image.naturalHeight, image.naturalWidth / aspectRatio) : image.naturalHeight,
          -imageWidth / 2,
          -imageHeight / 2,
          resizeMode === "Fill" ? desiredWidth : imageWidth,
          resizeMode === "Fill" ? desiredHeight : imageHeight
        );
        context.restore();
        data = canvas.toDataURL("image/jpeg", quality);
        const arrayBuffer = base64ToArrayBuffer(data);
        resolve(arrayBuffer);
      };
      image.src = e.target.result.toString();
    };
    reader.readAsDataURL(imgBlob);
  });
}
function convertToPNG(imgBlob, colorDepth, resizeMode, desiredWidth, desiredHeight, desiredLength) {
  return new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onloadend = (e) => {
      if (!e.target || !e.target.result) {
        reject(new Error("Failed to load file"));
        return;
      }
      const image = new Image();
      image.onload = () => {
        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");
        if (!context) {
          reject(new Error("Failed to get canvas context"));
          return;
        }
        let imageWidth = 0;
        let imageHeight = 0;
        const aspectRatio = image.naturalWidth / image.naturalHeight;
        switch (resizeMode) {
          case "None":
            imageWidth = image.naturalWidth;
            imageHeight = image.naturalHeight;
            break;
          case "Fit":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Fill":
            if (aspectRatio > desiredWidth / desiredHeight) {
              imageHeight = desiredHeight;
              imageWidth = imageHeight * aspectRatio;
            } else {
              imageWidth = desiredWidth;
              imageHeight = imageWidth / aspectRatio;
            }
            break;
          case "LongestSide":
            if (image.naturalWidth > image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "ShortestSide":
            if (image.naturalWidth < image.naturalHeight) {
              imageWidth = desiredLength;
              imageHeight = imageWidth / aspectRatio;
            } else {
              imageHeight = desiredLength;
              imageWidth = imageHeight * aspectRatio;
            }
            break;
          case "Width":
            imageWidth = desiredWidth;
            imageHeight = desiredWidth / aspectRatio;
            break;
          case "Height":
            imageHeight = desiredHeight;
            imageWidth = desiredHeight * aspectRatio;
            break;
        }
        let data = "";
        canvas.width = resizeMode === "Fill" ? desiredWidth : imageWidth;
        canvas.height = resizeMode === "Fill" ? desiredHeight : imageHeight;
        context.fillStyle = "#fff";
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.save();
        context.translate(canvas.width / 2, canvas.height / 2);
        context.drawImage(
          image,
          0,
          0,
          resizeMode === "Fill" ? Math.min(image.naturalWidth, image.naturalHeight * aspectRatio) : image.naturalWidth,
          resizeMode === "Fill" ? Math.min(image.naturalHeight, image.naturalWidth / aspectRatio) : image.naturalHeight,
          -imageWidth / 2,
          -imageHeight / 2,
          resizeMode === "Fill" ? desiredWidth : imageWidth,
          resizeMode === "Fill" ? desiredHeight : imageHeight
        );
        context.restore();
        const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
        const reducedImageData = reduceColorDepth(imageData, colorDepth);
        context.putImageData(reducedImageData, 0, 0);
        data = canvas.toDataURL("image/png");
        const arrayBuffer = base64ToArrayBuffer(data);
        resolve(arrayBuffer);
      };
      image.src = e.target.result.toString();
    };
    reader.readAsDataURL(imgBlob);
  });
}
function reduceColorDepth(imageData, colorDepth) {
  const canvas = document.createElement("canvas");
  const ctx = canvas.getContext("2d");
  if (!ctx) {
    throw new Error("Failed to get canvas context");
  }
  canvas.width = imageData.width;
  canvas.height = imageData.height;
  ctx.putImageData(imageData, 0, 0);
  const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;
  const numColors = Math.pow(256, colorDepth);
  const reducedData = new Uint8ClampedArray(data.length);
  for (let i = 0; i < data.length; i += 4) {
    const r = data[i];
    const g = data[i + 1];
    const b = data[i + 2];
    const reducedR = Math.round(r / (256 / numColors)) * (256 / numColors);
    const reducedG = Math.round(g / (256 / numColors)) * (256 / numColors);
    const reducedB = Math.round(b / (256 / numColors)) * (256 / numColors);
    reducedData[i] = reducedR;
    reducedData[i + 1] = reducedG;
    reducedData[i + 2] = reducedB;
    reducedData[i + 3] = data[i + 3];
  }
  const reducedImageData = new ImageData(reducedData, imageData.width, imageData.height);
  return reducedImageData;
}
function base64ToArrayBuffer(code) {
  const parts = code.split(";base64,");
  const raw = window.atob(parts[1]);
  const rawLength = raw.length;
  const uInt8Array = new Uint8Array(rawLength);
  for (let i = 0; i < rawLength; ++i) {
    uInt8Array[i] = raw.charCodeAt(i);
  }
  return uInt8Array.buffer;
}
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Select format to convert images to").setDesc(`Turn this on to allow image conversion and compression on drag'n'drop or paste.`).addDropdown(
      (dropdown) => dropdown.addOptions({ webp: "WebP", jpg: "JPG", png: "PNG" }).setValue(this.plugin.settings.convertTo).onChange(async (value) => {
        this.plugin.settings.convertTo = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Quality").setDesc("0 - low quality, 100 - high quality, 75 - Recommended").addText(
      (text) => text.setPlaceholder("Enter quality (0-100)").setValue((this.plugin.settings.quality * 100).toString()).onChange(async (value) => {
        const quality = parseInt(value);
        if (/^\d+$/.test(value) && quality >= 0 && quality <= 100) {
          this.plugin.settings.quality = quality / 100;
          await this.plugin.saveSettings();
        }
      })
    );
    new import_obsidian.Setting(containerEl).setName("Image Resize Mode").setDesc("The mode to use when resizing the image").addDropdown(
      (dropdown) => dropdown.addOptions({ None: "None", Fit: "Fit", Fill: "Fill", LongestSide: "Longest Side", ShortestSide: "Shortest Side", Width: "Width", Height: "Height" }).setValue(this.plugin.settings.resizeMode).onChange(async (value) => {
        this.plugin.settings.resizeMode = value;
        await this.plugin.saveSettings();
        if (value !== "None") {
          const modal = new ResizeModal(this.plugin);
          modal.open();
        }
      })
    );
    new import_obsidian.Setting(containerEl).setName("Auto Rename").setDesc(
      `Automatically rename dropped image into current notes name + todays date (YYYYMMDDHHMMSS). For instance, image "testImage.jpg" dropped into note "Howtotakenotes.md" becomes "Howtotakenotes-20230927164411.webp"`
    ).addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.autoRename).onChange(async (value) => {
        this.plugin.settings.autoRename = value;
        await this.plugin.saveSettings();
      })
    );
    new import_obsidian.Setting(containerEl).setName("Image Directory").setDesc("Directory to move processed images to").addText(
      (text) => text.setPlaceholder("Enter directory path").setValue(this.plugin.settings.dirpath).onChange(async (value) => {
        this.plugin.settings.dirpath = value;
        await this.plugin.saveSettings();
      })
    );
  }
};
var ResizeModal = class extends import_obsidian.Modal {
  constructor(plugin) {
    super(plugin.app);
    this.plugin = plugin;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.empty();
    let explanation = "";
    switch (this.plugin.settings.resizeMode) {
      case "Fit":
        explanation = "Fit mode resizes the image to fit within the desired dimensions while maintaining the aspect ratio of the image.";
        break;
      case "Fill":
        explanation = "Fill mode resizes the image to fill the desired dimensions while maintaining the aspect ratio of the image. This may result in cropping of the image.";
        break;
      case "LongestSide":
        explanation = "Longest Side mode resizes the longest side of the image to match the desired length while maintaining the aspect ratio of the image.";
        break;
      case "ShortestSide":
        explanation = "Shortest Side mode resizes the shortest side of the image to match the desired length while maintaining the aspect ratio of the image.";
        break;
      case "Width":
        explanation = "Width mode resizes the width of the image to match the desired width while maintaining the aspect ratio of the image.";
        break;
      case "Height":
        explanation = "Height mode resizes the height of the image to match the desired height while maintaining the aspect ratio of the image.";
        break;
    }
    contentEl.createEl("p", { text: explanation });
    if (["Fit", "Fill"].includes(this.plugin.settings.resizeMode)) {
      const widthInput = new import_obsidian.TextComponent(contentEl).setPlaceholder("Width").setValue(this.plugin.settings.desiredWidth.toString());
      const heightInput = new import_obsidian.TextComponent(contentEl).setPlaceholder("Height").setValue(this.plugin.settings.desiredHeight.toString());
      new import_obsidian.ButtonComponent(contentEl).setButtonText("Save").onClick(async () => {
        const width = parseInt(widthInput.getValue());
        if (/^\d+$/.test(widthInput.getValue()) && width > 0) {
          this.plugin.settings.desiredWidth = width;
        }
        const height = parseInt(heightInput.getValue());
        if (/^\d+$/.test(heightInput.getValue()) && height > 0) {
          this.plugin.settings.desiredHeight = height;
        }
        await this.plugin.saveSettings();
        this.close();
      });
    } else {
      const lengthInput = new import_obsidian.TextComponent(contentEl).setPlaceholder("Enter desired length in pixels").setValue(
        ["LongestSide", "ShortestSide", "Width", "Height"].includes(this.plugin.settings.resizeMode) ? this.plugin.settings.desiredWidth.toString() : this.plugin.settings.desiredHeight.toString()
      );
      new import_obsidian.ButtonComponent(contentEl).setButtonText("Save").onClick(async () => {
        const length = parseInt(lengthInput.getValue());
        if (/^\d+$/.test(lengthInput.getValue()) && length > 0) {
          if (["LongestSide"].includes(this.plugin.settings.resizeMode)) {
            this.plugin.settings.desiredLength = length;
          }
          if (["ShortestSide"].includes(this.plugin.settings.resizeMode)) {
            this.plugin.settings.desiredLength = length;
          }
          if (["Width"].includes(this.plugin.settings.resizeMode)) {
            this.plugin.settings.desiredWidth = length;
          }
          if (["Height"].includes(this.plugin.settings.resizeMode)) {
            this.plugin.settings.desiredHeight = length;
          }
        }
        await this.plugin.saveSettings();
        this.close();
      });
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBNYXJrZG93blZpZXcsIE5vdGljZSwgUGx1Z2luLCBURmlsZSwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZywgRWRpdG9yLCBNb2RhbCwgVGV4dENvbXBvbmVudCwgQnV0dG9uQ29tcG9uZW50IH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuaW50ZXJmYWNlIE15UGx1Z2luU2V0dGluZ3Mge1xyXG5cdGF1dG9SZW5hbWU6IGJvb2xlYW47XHJcblx0Y29udmVydFRvV0VCUDogYm9vbGVhbjtcclxuXHRjb252ZXJ0VG9KUEc6IGJvb2xlYW47XHJcblx0Y29udmVydFRvUE5HOiBib29sZWFuO1xyXG5cdGNvbnZlcnRUbzogc3RyaW5nO1xyXG5cdHF1YWxpdHk6IG51bWJlcjtcclxuXHRkaXJwYXRoOiBzdHJpbmc7XHJcblx0cmVzaXplTW9kZTogc3RyaW5nO1xyXG5cdGRlc2lyZWRXaWR0aDogbnVtYmVyO1xyXG5cdGRlc2lyZWRIZWlnaHQ6IG51bWJlcjtcclxuXHRkZXNpcmVkTGVuZ3RoOiBudW1iZXI7XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15UGx1Z2luU2V0dGluZ3MgPSB7XHJcblx0YXV0b1JlbmFtZTogdHJ1ZSxcclxuXHRjb252ZXJ0VG9XRUJQOiB0cnVlLFxyXG5cdGNvbnZlcnRUb0pQRzogZmFsc2UsXHJcblx0Y29udmVydFRvUE5HOiBmYWxzZSxcclxuXHRjb252ZXJ0VG86ICcnLFxyXG5cdHF1YWxpdHk6IDAuNzUsXHJcblx0ZGlycGF0aDogJycsXHJcblx0cmVzaXplTW9kZTogJ05vbmUnLFxyXG5cdGRlc2lyZWRXaWR0aDogNjAwLFxyXG5cdGRlc2lyZWRIZWlnaHQ6IDgwMCxcclxuXHRkZXNpcmVkTGVuZ3RoOiA4MDBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTXlQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBNeVBsdWdpblNldHRpbmdzO1xyXG5cclxuXHRhc3luYyBvbmxvYWQoKSB7XHJcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xyXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxyXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5vbignY3JlYXRlJywgKGZpbGU6IFRGaWxlKSA9PiB7XHJcblx0XHRcdFx0aWYgKCEoZmlsZSBpbnN0YW5jZW9mIFRGaWxlKSkgcmV0dXJuO1xyXG5cdFx0XHRcdGNvbnN0IHRpbWVHYXBNcyA9IERhdGUubm93KCkgLSBmaWxlLnN0YXQuY3RpbWU7XHJcblx0XHRcdFx0aWYgKHRpbWVHYXBNcyA+IDFlMykgcmV0dXJuOyAvLyAxc1xyXG5cdFx0XHRcdGlmIChpc0ltYWdlKGZpbGUpKSB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygncGFzdGVkIGltYWdlIGNyZWF0ZWQnLCBmaWxlKTtcclxuXHRcdFx0XHRcdHRoaXMucmVuYW1lRmlsZShmaWxlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHQpO1xyXG5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2FtcGxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgcmVuYW1lRmlsZShmaWxlOiBURmlsZSkge1xyXG5cdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMuZ2V0QWN0aXZlRmlsZSgpO1xyXG5cdFx0aWYgKCFhY3RpdmVGaWxlKSB7XHJcblx0XHRcdG5ldyBOb3RpY2UoJ0Vycm9yOiBObyBhY3RpdmUgZmlsZSBmb3VuZC4nKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0bGV0IG5ld05hbWUgPSBhd2FpdCB0aGlzLmtlZXBPcmdOYW1lKGZpbGUsIGFjdGl2ZUZpbGUpO1xyXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuYXV0b1JlbmFtZSkge1xyXG5cdFx0XHRuZXdOYW1lID0gYXdhaXQgdGhpcy5nZW5lcmF0ZU5ld05hbWUoZmlsZSwgYWN0aXZlRmlsZSk7XHJcblx0XHR9XHJcblx0XHRjb25zdCBzb3VyY2VQYXRoID0gYWN0aXZlRmlsZS5wYXRoO1xyXG5cdFx0bGV0IG5ld1BhdGggPSAnJztcclxuXHRcdG5ld1BhdGggPSB0aGlzLnNldHRpbmdzLmRpcnBhdGg7XHJcblx0XHRjb25zb2xlLmxvZygnbmV3UGF0aCBpcyBzZXQgdG86JywgbmV3UGF0aCk7XHJcblx0XHRjb25zdCBvcmlnaW5OYW1lID0gZmlsZS5uYW1lO1xyXG5cclxuXHRcdGNvbnN0IGJpbmFyeSA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWRCaW5hcnkoZmlsZSk7XHJcblx0XHRjb25zdCBpbWdCbG9iID0gbmV3IEJsb2IoW2JpbmFyeV0sIHsgdHlwZTogYGltYWdlLyR7ZmlsZS5leHRlbnNpb259YCB9KTtcclxuXHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5jb252ZXJ0VG8gPT09ICd3ZWJwJykge1xyXG5cdFx0XHRjb25zdCBhcnJheUJ1ZmZlcldlYlAgPSBhd2FpdCBjb252ZXJ0VG9XZWJQKFxyXG5cdFx0XHRcdGltZ0Jsb2IsXHJcblx0XHRcdFx0TnVtYmVyKHRoaXMuc2V0dGluZ3MucXVhbGl0eSksXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5yZXNpemVNb2RlLFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuZGVzaXJlZFdpZHRoLFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuZGVzaXJlZEhlaWdodCxcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlc2lyZWRMZW5ndGhcclxuXHRcdFx0KTtcclxuXHRcdFx0YXdhaXQgdGhpcy5hcHAudmF1bHQubW9kaWZ5QmluYXJ5KGZpbGUsIGFycmF5QnVmZmVyV2ViUCk7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuY29udmVydFRvID09PSAnanBnJykge1xyXG5cdFx0XHRjb25zdCBhcnJheUJ1ZmZlckpQRyA9IGF3YWl0IGNvbnZlcnRUb0pQRyhcclxuXHRcdFx0XHRpbWdCbG9iLFxyXG5cdFx0XHRcdE51bWJlcih0aGlzLnNldHRpbmdzLnF1YWxpdHkpLFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MucmVzaXplTW9kZSxcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlc2lyZWRXaWR0aCxcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlc2lyZWRIZWlnaHQsXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5kZXNpcmVkTGVuZ3RoXHJcblx0XHRcdCk7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeUJpbmFyeShmaWxlLCBhcnJheUJ1ZmZlckpQRyk7XHJcblx0XHR9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuY29udmVydFRvID09PSAncG5nJykge1xyXG5cdFx0XHRjb25zdCBhcnJheUJ1ZmZlclBORyA9IGF3YWl0IGNvbnZlcnRUb1BORyhcclxuXHRcdFx0XHRpbWdCbG9iLFxyXG5cdFx0XHRcdE51bWJlcih0aGlzLnNldHRpbmdzLnF1YWxpdHkpLFxyXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MucmVzaXplTW9kZSxcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlc2lyZWRXaWR0aCxcclxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlc2lyZWRIZWlnaHQsXHJcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5kZXNpcmVkTGVuZ3RoXHJcblx0XHRcdCk7XHJcblx0XHRcdGF3YWl0IHRoaXMuYXBwLnZhdWx0Lm1vZGlmeUJpbmFyeShmaWxlLCBhcnJheUJ1ZmZlclBORyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRuZXcgTm90aWNlKCdFcnJvcjogTm8gZm9ybWF0IHNlbGVjdGVkIGZvciBjb252ZXJzaW9uLicpO1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgbGlua1RleHQgPSB0aGlzLm1ha2VMaW5rVGV4dChmaWxlLCBzb3VyY2VQYXRoKTtcclxuXHRcdG5ld1BhdGggPSBwYXRoLmpvaW4obmV3UGF0aCwgbmV3TmFtZSk7XHJcblx0XHR0cnkge1xyXG5cdFx0XHRhd2FpdCB0aGlzLmFwcC52YXVsdC5yZW5hbWUoZmlsZSwgbmV3UGF0aCk7XHJcblx0XHR9IGNhdGNoIChlcnIpIHtcclxuXHRcdFx0bmV3IE5vdGljZShgRmFpbGVkIHRvIHJlbmFtZSAke25ld05hbWV9OiAke2Vycn1gKTtcclxuXHRcdFx0dGhyb3cgZXJyO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgbmV3TGlua1RleHQgPSB0aGlzLm1ha2VMaW5rVGV4dChmaWxlLCBzb3VyY2VQYXRoKTtcclxuXHRcdGNvbnNvbGUubG9nKCdyZXBsYWNlIHRleHQnLCBsaW5rVGV4dCwgbmV3TGlua1RleHQpO1xyXG5cdFx0Y29uc3QgZWRpdG9yID0gdGhpcy5nZXRBY3RpdmVFZGl0b3Ioc291cmNlUGF0aCk7XHJcblx0XHRpZiAoIWVkaXRvcikge1xyXG5cdFx0XHRuZXcgTm90aWNlKGBGYWlsZWQgdG8gcmVuYW1lICR7bmV3TmFtZX06IG5vIGFjdGl2ZSBlZGl0b3JgKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cdFx0Y29uc3QgY3Vyc29yID0gZWRpdG9yLmdldEN1cnNvcigpO1xyXG5cdFx0Y29uc3QgbGluZSA9IGVkaXRvci5nZXRMaW5lKGN1cnNvci5saW5lKTtcclxuXHRcdGNvbnNvbGUubG9nKCdjdXJyZW50IGxpbmUnLCBsaW5lKTtcclxuXHJcblx0XHRlZGl0b3IudHJhbnNhY3Rpb24oe1xyXG5cdFx0XHRjaGFuZ2VzOiBbXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0ZnJvbTogeyAuLi5jdXJzb3IsIGNoOiAwIH0sXHJcblx0XHRcdFx0XHR0bzogeyAuLi5jdXJzb3IsIGNoOiBsaW5lLmxlbmd0aCB9LFxyXG5cdFx0XHRcdFx0dGV4dDogbGluZS5yZXBsYWNlKGxpbmtUZXh0LCBuZXdMaW5rVGV4dCksXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XSxcclxuXHRcdH0pO1xyXG5cdFx0bmV3IE5vdGljZShgUmVuYW1lZCAke29yaWdpbk5hbWV9IHRvICR7bmV3TmFtZX1gKTtcclxuXHR9XHJcblxyXG5cdG1ha2VMaW5rVGV4dChmaWxlOiBURmlsZSwgc291cmNlUGF0aDogc3RyaW5nLCBzdWJwYXRoPzogc3RyaW5nKTogc3RyaW5nIHtcclxuXHRcdHJldHVybiB0aGlzLmFwcC5maWxlTWFuYWdlci5nZW5lcmF0ZU1hcmtkb3duTGluayhmaWxlLCBzb3VyY2VQYXRoLCBzdWJwYXRoKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGdlbmVyYXRlTmV3TmFtZShmaWxlOiBURmlsZSwgYWN0aXZlRmlsZTogVEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xyXG5cdFx0Y29uc3QgbmV3TmFtZSA9IGFjdGl2ZUZpbGUuYmFzZW5hbWUgKyAnLScgKyBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvWy06VC5aXS9nLCAnJyk7XHJcblx0XHRsZXQgZXh0ZW5zaW9uID0gZmlsZS5leHRlbnNpb247XHJcblx0XHRpZiAodGhpcy5zZXR0aW5ncy5jb252ZXJ0VG8pIHtcclxuXHRcdFx0ZXh0ZW5zaW9uID0gdGhpcy5zZXR0aW5ncy5jb252ZXJ0VG87XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gYCR7bmV3TmFtZX0uJHtleHRlbnNpb259YDtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGtlZXBPcmdOYW1lKGZpbGU6IFRGaWxlLCBhY3RpdmVGaWxlOiBURmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XHJcblx0XHRjb25zdCBuZXdOYW1lID0gZmlsZS5iYXNlbmFtZTtcclxuXHRcdGxldCBleHRlbnNpb24gPSBmaWxlLmV4dGVuc2lvbjtcclxuXHRcdGlmICh0aGlzLnNldHRpbmdzLmNvbnZlcnRUbykge1xyXG5cdFx0XHRleHRlbnNpb24gPSB0aGlzLnNldHRpbmdzLmNvbnZlcnRUbztcclxuXHRcdH1cclxuXHRcdHJldHVybiBgJHtuZXdOYW1lfS4ke2V4dGVuc2lvbn1gO1xyXG5cdH1cclxuXHJcblx0Z2V0QWN0aXZlRmlsZSgpOiBURmlsZSB8IHVuZGVmaW5lZCB7XHJcblx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdGNvbnN0IGZpbGUgPSB2aWV3Py5maWxlO1xyXG5cdFx0Y29uc29sZS5sb2coJ2FjdGl2ZSBmaWxlJywgZmlsZT8ucGF0aCk7XHJcblx0XHRpZiAoZmlsZSkge1xyXG5cdFx0XHRyZXR1cm4gZmlsZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0fVxyXG5cclxuXHRnZXRBY3RpdmVFZGl0b3Ioc291cmNlUGF0aDogc3RyaW5nKTogRWRpdG9yIHwgbnVsbCB7XHJcblx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuXHRcdGlmICh2aWV3ICYmIHZpZXcuZmlsZSAmJiB2aWV3LmZpbGUucGF0aCA9PT0gc291cmNlUGF0aCkge1xyXG5cdFx0XHRyZXR1cm4gdmlldy5lZGl0b3I7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbnVsbDtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkgeyB9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW1hZ2UoZmlsZTogVEZpbGUpOiBib29sZWFuIHtcclxuXHRjb25zdCBJTUFHRV9FWFRTID0gWydqcGcnLCAnanBlZycsICdwbmcnLCAnd2VicCddO1xyXG5cdHJldHVybiBJTUFHRV9FWFRTLmluY2x1ZGVzKGZpbGUuZXh0ZW5zaW9uLnRvTG93ZXJDYXNlKCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0VG9XZWJQKGZpbGU6IEJsb2IsIHF1YWxpdHk6IG51bWJlciwgcmVzaXplTW9kZTogc3RyaW5nLCBkZXNpcmVkV2lkdGg6IG51bWJlciwgZGVzaXJlZEhlaWdodDogbnVtYmVyLCBkZXNpcmVkTGVuZ3RoOiBudW1iZXIpOiBQcm9taXNlPEFycmF5QnVmZmVyPiB7XHJcblx0cmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcblx0XHRyZWFkZXIub25sb2FkZW5kID0gKGUpID0+IHtcclxuXHRcdFx0aWYgKCFlLnRhcmdldCB8fCAhZS50YXJnZXQucmVzdWx0KSB7XHJcblx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgZmlsZScpKTtcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHRcdFx0aW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG5cdFx0XHRcdGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHRcdFx0XHRpZiAoIWNvbnRleHQpIHtcclxuXHRcdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgY2FudmFzIGNvbnRleHQnKSk7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBDYWxjdWxhdGUgdGhlIG5ldyBkaW1lbnNpb25zIG9mIHRoZSBpbWFnZSBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcmVzaXplIG1vZGVcclxuXHRcdFx0XHQvLyBsZXQgaW1hZ2VXaWR0aCwgaW1hZ2VIZWlnaHQ7XHJcblx0XHRcdFx0bGV0IGltYWdlV2lkdGggPSAwO1xyXG5cdFx0XHRcdGxldCBpbWFnZUhlaWdodCA9IDA7XHJcblx0XHRcdFx0Y29uc3QgYXNwZWN0UmF0aW8gPSBpbWFnZS5uYXR1cmFsV2lkdGggLyBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cdFx0XHRcdHN3aXRjaCAocmVzaXplTW9kZSkge1xyXG5cdFx0XHRcdFx0Y2FzZSAnTm9uZSc6XHJcblx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGg7XHJcblx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuXHRcdFx0XHRcdFx0YnJlYWtcclxuXHRcdFx0XHRcdGNhc2UgJ0ZpdCc6XHJcblx0XHRcdFx0XHRcdGlmIChhc3BlY3RSYXRpbyA+IGRlc2lyZWRXaWR0aCAvIGRlc2lyZWRIZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZFdpZHRoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAvIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZEhlaWdodDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgKiBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0ZpbGwnOlxyXG5cdFx0XHRcdFx0XHRpZiAoYXNwZWN0UmF0aW8gPiBkZXNpcmVkV2lkdGggLyBkZXNpcmVkSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBpbWFnZUhlaWdodCAqIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkV2lkdGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoIC8gYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdMb25nZXN0U2lkZSc6XHJcblx0XHRcdFx0XHRcdGlmIChpbWFnZS5uYXR1cmFsV2lkdGggPiBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRMZW5ndGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoIC8gYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkTGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBpbWFnZUhlaWdodCAqIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnU2hvcnRlc3RTaWRlJzpcclxuXHRcdFx0XHRcdFx0aWYgKGltYWdlLm5hdHVyYWxXaWR0aCA8IGltYWdlLm5hdHVyYWxIZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZExlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggLyBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRMZW5ndGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGltYWdlSGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdXaWR0aCc6XHJcblx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkV2lkdGg7XHJcblx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZFdpZHRoIC8gYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnSGVpZ2h0JzpcclxuXHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZEhlaWdodCAqIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGxldCBkYXRhID0gJyc7XHJcblx0XHRcdFx0Y2FudmFzLndpZHRoID0gcmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gZGVzaXJlZFdpZHRoIDogaW1hZ2VXaWR0aDtcclxuXHRcdFx0XHRjYW52YXMuaGVpZ2h0ID0gcmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gZGVzaXJlZEhlaWdodCA6IGltYWdlSGVpZ2h0O1xyXG5cdFx0XHRcdGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmYnO1xyXG5cdFx0XHRcdGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuXHRcdFx0XHRjb250ZXh0LnNhdmUoKTtcclxuXHRcdFx0XHRjb250ZXh0LnRyYW5zbGF0ZShjYW52YXMud2lkdGggLyAyLCBjYW52YXMuaGVpZ2h0IC8gMik7XHJcblxyXG5cdFx0XHRcdC8vIERyYXcgdGhlIHJlc2l6ZWQgYW5kL29yIGNyb3BwZWQgXHRpbWFnZSBvbiB0aGUgY2FudmFzXHJcblx0XHRcdFx0Y29udGV4dC5kcmF3SW1hZ2UoXHJcblx0XHRcdFx0XHRpbWFnZSxcclxuXHRcdFx0XHRcdDAsXHJcblx0XHRcdFx0XHQwLFxyXG5cdFx0XHRcdFx0cmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gTWF0aC5taW4oaW1hZ2UubmF0dXJhbFdpZHRoLCBpbWFnZS5uYXR1cmFsSGVpZ2h0ICogYXNwZWN0UmF0aW8pIDogaW1hZ2UubmF0dXJhbFdpZHRoLFxyXG5cdFx0XHRcdFx0cmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gTWF0aC5taW4oaW1hZ2UubmF0dXJhbEhlaWdodCwgaW1hZ2UubmF0dXJhbFdpZHRoIC8gYXNwZWN0UmF0aW8pIDogaW1hZ2UubmF0dXJhbEhlaWdodCxcclxuXHRcdFx0XHRcdC1pbWFnZVdpZHRoIC8gMixcclxuXHRcdFx0XHRcdC1pbWFnZUhlaWdodCAvIDIsXHJcblx0XHRcdFx0XHRyZXNpemVNb2RlID09PSAnRmlsbCcgPyBkZXNpcmVkV2lkdGggOiBpbWFnZVdpZHRoLFxyXG5cdFx0XHRcdFx0cmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gZGVzaXJlZEhlaWdodCA6IGltYWdlSGVpZ2h0XHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRjb250ZXh0LnJlc3RvcmUoKTtcclxuXHRcdFx0XHRkYXRhID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2Uvd2VicCcsIHF1YWxpdHkpO1xyXG5cdFx0XHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihkYXRhKTtcclxuXHRcdFx0XHRyZXNvbHZlKGFycmF5QnVmZmVyKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0aW1hZ2Uuc3JjID0gZS50YXJnZXQucmVzdWx0LnRvU3RyaW5nKCk7XHJcblx0XHR9O1xyXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbnZlcnRUb0pQRyhpbWdCbG9iOiBCbG9iLCBxdWFsaXR5OiBudW1iZXIsIHJlc2l6ZU1vZGU6IHN0cmluZywgZGVzaXJlZFdpZHRoOiBudW1iZXIsIGRlc2lyZWRIZWlnaHQ6IG51bWJlciwgZGVzaXJlZExlbmd0aDogbnVtYmVyKTogUHJvbWlzZTxBcnJheUJ1ZmZlcj4ge1xyXG5cdHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcblx0XHRjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG5cdFx0cmVhZGVyLm9ubG9hZGVuZCA9IChlKSA9PiB7XHJcblx0XHRcdGlmICghZS50YXJnZXQgfHwgIWUudGFyZ2V0LnJlc3VsdCkge1xyXG5cdFx0XHRcdHJlamVjdChuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGZpbGUnKSk7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XHJcblx0XHRcdGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuXHRcdFx0XHRjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHRcdFx0XHRjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblx0XHRcdFx0aWYgKCFjb250ZXh0KSB7XHJcblx0XHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IGNhbnZhcyBjb250ZXh0JykpO1xyXG5cdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQ2FsY3VsYXRlIHRoZSBuZXcgZGltZW5zaW9ucyBvZiB0aGUgaW1hZ2UgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHJlc2l6ZSBtb2RlXHJcblx0XHRcdFx0Ly8gbGV0IGltYWdlV2lkdGgsIGltYWdlSGVpZ2h0O1xyXG5cdFx0XHRcdGxldCBpbWFnZVdpZHRoID0gMDtcclxuXHRcdFx0XHRsZXQgaW1hZ2VIZWlnaHQgPSAwO1xyXG5cdFx0XHRcdGNvbnN0IGFzcGVjdFJhdGlvID0gaW1hZ2UubmF0dXJhbFdpZHRoIC8gaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuXHRcdFx0XHRzd2l0Y2ggKHJlc2l6ZU1vZGUpIHtcclxuXHRcdFx0XHRcdGNhc2UgJ05vbmUnOlxyXG5cdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gaW1hZ2UubmF0dXJhbFdpZHRoO1xyXG5cdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblx0XHRcdFx0XHRcdGJyZWFrXHJcblx0XHRcdFx0XHRjYXNlICdGaXQnOlxyXG5cdFx0XHRcdFx0XHRpZiAoYXNwZWN0UmF0aW8gPiBkZXNpcmVkV2lkdGggLyBkZXNpcmVkSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRXaWR0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggLyBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRIZWlnaHQ7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGltYWdlSGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdGaWxsJzpcclxuXHRcdFx0XHRcdFx0aWYgKGFzcGVjdFJhdGlvID4gZGVzaXJlZFdpZHRoIC8gZGVzaXJlZEhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZEhlaWdodDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgKiBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZFdpZHRoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAvIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnTG9uZ2VzdFNpZGUnOlxyXG5cdFx0XHRcdFx0XHRpZiAoaW1hZ2UubmF0dXJhbFdpZHRoID4gaW1hZ2UubmF0dXJhbEhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkTGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAvIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZExlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgKiBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ1Nob3J0ZXN0U2lkZSc6XHJcblx0XHRcdFx0XHRcdGlmIChpbWFnZS5uYXR1cmFsV2lkdGggPCBpbWFnZS5uYXR1cmFsSGVpZ2h0KSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRMZW5ndGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoIC8gYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkTGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBpbWFnZUhlaWdodCAqIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnV2lkdGgnOlxyXG5cdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZFdpZHRoO1xyXG5cdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRXaWR0aCAvIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0hlaWdodCc6XHJcblx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZEhlaWdodDtcclxuXHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRIZWlnaHQgKiBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRsZXQgZGF0YSA9ICcnO1xyXG5cdFx0XHRcdGNhbnZhcy53aWR0aCA9IHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IGRlc2lyZWRXaWR0aCA6IGltYWdlV2lkdGg7XHJcblx0XHRcdFx0Y2FudmFzLmhlaWdodCA9IHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IGRlc2lyZWRIZWlnaHQgOiBpbWFnZUhlaWdodDtcclxuXHRcdFx0XHRjb250ZXh0LmZpbGxTdHlsZSA9ICcjZmZmJztcclxuXHRcdFx0XHRjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblx0XHRcdFx0Y29udGV4dC5zYXZlKCk7XHJcblx0XHRcdFx0Y29udGV4dC50cmFuc2xhdGUoY2FudmFzLndpZHRoIC8gMiwgY2FudmFzLmhlaWdodCAvIDIpO1xyXG5cclxuXHRcdFx0XHQvLyBEcmF3IHRoZSByZXNpemVkIGFuZC9vciBjcm9wcGVkIFx0aW1hZ2Ugb24gdGhlIGNhbnZhc1xyXG5cdFx0XHRcdGNvbnRleHQuZHJhd0ltYWdlKFxyXG5cdFx0XHRcdFx0aW1hZ2UsXHJcblx0XHRcdFx0XHQwLFxyXG5cdFx0XHRcdFx0MCxcclxuXHRcdFx0XHRcdHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IE1hdGgubWluKGltYWdlLm5hdHVyYWxXaWR0aCwgaW1hZ2UubmF0dXJhbEhlaWdodCAqIGFzcGVjdFJhdGlvKSA6IGltYWdlLm5hdHVyYWxXaWR0aCxcclxuXHRcdFx0XHRcdHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IE1hdGgubWluKGltYWdlLm5hdHVyYWxIZWlnaHQsIGltYWdlLm5hdHVyYWxXaWR0aCAvIGFzcGVjdFJhdGlvKSA6IGltYWdlLm5hdHVyYWxIZWlnaHQsXHJcblx0XHRcdFx0XHQtaW1hZ2VXaWR0aCAvIDIsXHJcblx0XHRcdFx0XHQtaW1hZ2VIZWlnaHQgLyAyLFxyXG5cdFx0XHRcdFx0cmVzaXplTW9kZSA9PT0gJ0ZpbGwnID8gZGVzaXJlZFdpZHRoIDogaW1hZ2VXaWR0aCxcclxuXHRcdFx0XHRcdHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IGRlc2lyZWRIZWlnaHQgOiBpbWFnZUhlaWdodFxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0Y29udGV4dC5yZXN0b3JlKCk7XHJcblx0XHRcdFx0ZGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL2pwZWcnLCBxdWFsaXR5KTtcclxuXHRcdFx0XHRjb25zdCBhcnJheUJ1ZmZlciA9IGJhc2U2NFRvQXJyYXlCdWZmZXIoZGF0YSk7XHJcblx0XHRcdFx0cmVzb2x2ZShhcnJheUJ1ZmZlcik7XHJcblx0XHRcdH07XHJcblx0XHRcdGltYWdlLnNyYyA9IGUudGFyZ2V0LnJlc3VsdC50b1N0cmluZygpO1xyXG5cdFx0fTtcclxuXHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGltZ0Jsb2IpO1xyXG5cdH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0VG9QTkcoaW1nQmxvYjogQmxvYiwgY29sb3JEZXB0aDogbnVtYmVyLCByZXNpemVNb2RlOiBzdHJpbmcsIGRlc2lyZWRXaWR0aDogbnVtYmVyLCBkZXNpcmVkSGVpZ2h0OiBudW1iZXIsIGRlc2lyZWRMZW5ndGg6IG51bWJlcik6IFByb21pc2U8QXJyYXlCdWZmZXI+IHtcclxuXHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG5cdFx0Y29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuXHRcdHJlYWRlci5vbmxvYWRlbmQgPSAoZSkgPT4ge1xyXG5cdFx0XHRpZiAoIWUudGFyZ2V0IHx8ICFlLnRhcmdldC5yZXN1bHQpIHtcclxuXHRcdFx0XHRyZWplY3QobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBmaWxlJykpO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cdFx0XHRjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG5cdFx0XHRpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0XHRcdFx0Y29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cdFx0XHRcdGlmICghY29udGV4dCkge1xyXG5cdFx0XHRcdFx0cmVqZWN0KG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBjYW52YXMgY29udGV4dCcpKTtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgbmV3IGRpbWVuc2lvbnMgb2YgdGhlIGltYWdlIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCByZXNpemUgbW9kZVxyXG5cdFx0XHRcdC8vIGxldCBpbWFnZVdpZHRoLCBpbWFnZUhlaWdodDtcclxuXHRcdFx0XHRsZXQgaW1hZ2VXaWR0aCA9IDA7XHJcblx0XHRcdFx0bGV0IGltYWdlSGVpZ2h0ID0gMDtcclxuXHRcdFx0XHRjb25zdCBhc3BlY3RSYXRpbyA9IGltYWdlLm5hdHVyYWxXaWR0aCAvIGltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcblx0XHRcdFx0c3dpdGNoIChyZXNpemVNb2RlKSB7XHJcblx0XHRcdFx0XHRjYXNlICdOb25lJzpcclxuXHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aDtcclxuXHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBpbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRicmVha1xyXG5cdFx0XHRcdFx0Y2FzZSAnRml0JzpcclxuXHRcdFx0XHRcdFx0aWYgKGFzcGVjdFJhdGlvID4gZGVzaXJlZFdpZHRoIC8gZGVzaXJlZEhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkV2lkdGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBpbWFnZVdpZHRoIC8gYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkSGVpZ2h0O1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBpbWFnZUhlaWdodCAqIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0Y2FzZSAnRmlsbCc6XHJcblx0XHRcdFx0XHRcdGlmIChhc3BlY3RSYXRpbyA+IGRlc2lyZWRXaWR0aCAvIGRlc2lyZWRIZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRIZWlnaHQ7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGltYWdlSGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRXaWR0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggLyBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ0xvbmdlc3RTaWRlJzpcclxuXHRcdFx0XHRcdFx0aWYgKGltYWdlLm5hdHVyYWxXaWR0aCA+IGltYWdlLm5hdHVyYWxIZWlnaHQpIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gZGVzaXJlZExlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGltYWdlV2lkdGggLyBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRMZW5ndGg7XHJcblx0XHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGltYWdlSGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdTaG9ydGVzdFNpZGUnOlxyXG5cdFx0XHRcdFx0XHRpZiAoaW1hZ2UubmF0dXJhbFdpZHRoIDwgaW1hZ2UubmF0dXJhbEhlaWdodCkge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkTGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gaW1hZ2VXaWR0aCAvIGFzcGVjdFJhdGlvO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdGltYWdlSGVpZ2h0ID0gZGVzaXJlZExlbmd0aDtcclxuXHRcdFx0XHRcdFx0XHRpbWFnZVdpZHRoID0gaW1hZ2VIZWlnaHQgKiBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdGNhc2UgJ1dpZHRoJzpcclxuXHRcdFx0XHRcdFx0aW1hZ2VXaWR0aCA9IGRlc2lyZWRXaWR0aDtcclxuXHRcdFx0XHRcdFx0aW1hZ2VIZWlnaHQgPSBkZXNpcmVkV2lkdGggLyBhc3BlY3RSYXRpbztcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRjYXNlICdIZWlnaHQnOlxyXG5cdFx0XHRcdFx0XHRpbWFnZUhlaWdodCA9IGRlc2lyZWRIZWlnaHQ7XHJcblx0XHRcdFx0XHRcdGltYWdlV2lkdGggPSBkZXNpcmVkSGVpZ2h0ICogYXNwZWN0UmF0aW87XHJcblx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0bGV0IGRhdGEgPSAnJztcclxuXHRcdFx0XHRjYW52YXMud2lkdGggPSByZXNpemVNb2RlID09PSAnRmlsbCcgPyBkZXNpcmVkV2lkdGggOiBpbWFnZVdpZHRoO1xyXG5cdFx0XHRcdGNhbnZhcy5oZWlnaHQgPSByZXNpemVNb2RlID09PSAnRmlsbCcgPyBkZXNpcmVkSGVpZ2h0IDogaW1hZ2VIZWlnaHQ7XHJcblx0XHRcdFx0Y29udGV4dC5maWxsU3R5bGUgPSAnI2ZmZic7XHJcblx0XHRcdFx0Y29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cdFx0XHRcdGNvbnRleHQuc2F2ZSgpO1xyXG5cdFx0XHRcdGNvbnRleHQudHJhbnNsYXRlKGNhbnZhcy53aWR0aCAvIDIsIGNhbnZhcy5oZWlnaHQgLyAyKTtcclxuXHJcblx0XHRcdFx0Ly8gRHJhdyB0aGUgcmVzaXplZCBhbmQvb3IgY3JvcHBlZCBcdGltYWdlIG9uIHRoZSBjYW52YXNcclxuXHRcdFx0XHRjb250ZXh0LmRyYXdJbWFnZShcclxuXHRcdFx0XHRcdGltYWdlLFxyXG5cdFx0XHRcdFx0MCxcclxuXHRcdFx0XHRcdDAsXHJcblx0XHRcdFx0XHRyZXNpemVNb2RlID09PSAnRmlsbCcgPyBNYXRoLm1pbihpbWFnZS5uYXR1cmFsV2lkdGgsIGltYWdlLm5hdHVyYWxIZWlnaHQgKiBhc3BlY3RSYXRpbykgOiBpbWFnZS5uYXR1cmFsV2lkdGgsXHJcblx0XHRcdFx0XHRyZXNpemVNb2RlID09PSAnRmlsbCcgPyBNYXRoLm1pbihpbWFnZS5uYXR1cmFsSGVpZ2h0LCBpbWFnZS5uYXR1cmFsV2lkdGggLyBhc3BlY3RSYXRpbykgOiBpbWFnZS5uYXR1cmFsSGVpZ2h0LFxyXG5cdFx0XHRcdFx0LWltYWdlV2lkdGggLyAyLFxyXG5cdFx0XHRcdFx0LWltYWdlSGVpZ2h0IC8gMixcclxuXHRcdFx0XHRcdHJlc2l6ZU1vZGUgPT09ICdGaWxsJyA/IGRlc2lyZWRXaWR0aCA6IGltYWdlV2lkdGgsXHJcblx0XHRcdFx0XHRyZXNpemVNb2RlID09PSAnRmlsbCcgPyBkZXNpcmVkSGVpZ2h0IDogaW1hZ2VIZWlnaHRcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGNvbnRleHQucmVzdG9yZSgpO1xyXG5cclxuXHRcdFx0XHRjb25zdCBpbWFnZURhdGEgPSBjb250ZXh0LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cdFx0XHRcdGNvbnN0IHJlZHVjZWRJbWFnZURhdGEgPSByZWR1Y2VDb2xvckRlcHRoKGltYWdlRGF0YSwgY29sb3JEZXB0aCk7XHJcblx0XHRcdFx0Y29udGV4dC5wdXRJbWFnZURhdGEocmVkdWNlZEltYWdlRGF0YSwgMCwgMCk7XHJcblx0XHRcdFx0ZGF0YSA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xyXG5cdFx0XHRcdGNvbnN0IGFycmF5QnVmZmVyID0gYmFzZTY0VG9BcnJheUJ1ZmZlcihkYXRhKTtcclxuXHRcdFx0XHRyZXNvbHZlKGFycmF5QnVmZmVyKTtcclxuXHRcdFx0fTtcclxuXHRcdFx0aW1hZ2Uuc3JjID0gZS50YXJnZXQucmVzdWx0LnRvU3RyaW5nKCk7XHJcblx0XHR9O1xyXG5cdFx0cmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1nQmxvYik7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlZHVjZUNvbG9yRGVwdGgoaW1hZ2VEYXRhOiBJbWFnZURhdGEsIGNvbG9yRGVwdGg6IG51bWJlcik6IEltYWdlRGF0YSB7XHJcblx0Y29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcblx0Y29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcblx0aWYgKCFjdHgpIHtcclxuXHRcdHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBjYW52YXMgY29udGV4dCcpO1xyXG5cdH1cclxuXHRjYW52YXMud2lkdGggPSBpbWFnZURhdGEud2lkdGg7XHJcblx0Y2FudmFzLmhlaWdodCA9IGltYWdlRGF0YS5oZWlnaHQ7XHJcblx0Y3R4LnB1dEltYWdlRGF0YShpbWFnZURhdGEsIDAsIDApO1xyXG5cdGNvbnN0IGRhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCkuZGF0YTtcclxuXHRjb25zdCBudW1Db2xvcnMgPSBNYXRoLnBvdygyNTYsIGNvbG9yRGVwdGgpO1xyXG5cdGNvbnN0IHJlZHVjZWREYXRhID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGRhdGEubGVuZ3RoKTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHtcclxuXHRcdGNvbnN0IHIgPSBkYXRhW2ldO1xyXG5cdFx0Y29uc3QgZyA9IGRhdGFbaSArIDFdO1xyXG5cdFx0Y29uc3QgYiA9IGRhdGFbaSArIDJdO1xyXG5cdFx0Y29uc3QgcmVkdWNlZFIgPSBNYXRoLnJvdW5kKHIgLyAoMjU2IC8gbnVtQ29sb3JzKSkgKiAoMjU2IC8gbnVtQ29sb3JzKTtcclxuXHRcdGNvbnN0IHJlZHVjZWRHID0gTWF0aC5yb3VuZChnIC8gKDI1NiAvIG51bUNvbG9ycykpICogKDI1NiAvIG51bUNvbG9ycyk7XHJcblx0XHRjb25zdCByZWR1Y2VkQiA9IE1hdGgucm91bmQoYiAvICgyNTYgLyBudW1Db2xvcnMpKSAqICgyNTYgLyBudW1Db2xvcnMpO1xyXG5cdFx0cmVkdWNlZERhdGFbaV0gPSByZWR1Y2VkUjtcclxuXHRcdHJlZHVjZWREYXRhW2kgKyAxXSA9IHJlZHVjZWRHO1xyXG5cdFx0cmVkdWNlZERhdGFbaSArIDJdID0gcmVkdWNlZEI7XHJcblx0XHRyZWR1Y2VkRGF0YVtpICsgM10gPSBkYXRhW2kgKyAzXTtcclxuXHR9XHJcblx0Y29uc3QgcmVkdWNlZEltYWdlRGF0YSA9IG5ldyBJbWFnZURhdGEocmVkdWNlZERhdGEsIGltYWdlRGF0YS53aWR0aCwgaW1hZ2VEYXRhLmhlaWdodCk7XHJcblx0cmV0dXJuIHJlZHVjZWRJbWFnZURhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhc2U2NFRvQXJyYXlCdWZmZXIoY29kZTogc3RyaW5nKTogQXJyYXlCdWZmZXIge1xyXG5cdGNvbnN0IHBhcnRzID0gY29kZS5zcGxpdCgnO2Jhc2U2NCwnKTtcclxuXHRjb25zdCByYXcgPSB3aW5kb3cuYXRvYihwYXJ0c1sxXSk7XHJcblx0Y29uc3QgcmF3TGVuZ3RoID0gcmF3Lmxlbmd0aDtcclxuXHRjb25zdCB1SW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkocmF3TGVuZ3RoKTtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8IHJhd0xlbmd0aDsgKytpKSB7XHJcblx0XHR1SW50OEFycmF5W2ldID0gcmF3LmNoYXJDb2RlQXQoaSk7XHJcblx0fVxyXG5cdHJldHVybiB1SW50OEFycmF5LmJ1ZmZlcjtcclxufVxyXG5cclxuY2xhc3MgU2FtcGxlU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xyXG5cdHBsdWdpbjogTXlQbHVnaW47XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15UGx1Z2luKSB7XHJcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdGRpc3BsYXkoKTogdm9pZCB7XHJcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoJ1NlbGVjdCBmb3JtYXQgdG8gY29udmVydCBpbWFnZXMgdG8nKVxyXG5cdFx0XHQuc2V0RGVzYyhgVHVybiB0aGlzIG9uIHRvIGFsbG93IGltYWdlIGNvbnZlcnNpb24gYW5kIGNvbXByZXNzaW9uIG9uIGRyYWcnbidkcm9wIG9yIHBhc3RlLmApXHJcblx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PlxyXG5cdFx0XHRcdGRyb3Bkb3duXHJcblx0XHRcdFx0XHQuYWRkT3B0aW9ucyh7IHdlYnA6ICdXZWJQJywganBnOiAnSlBHJywgcG5nOiAnUE5HJyB9KVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnZlcnRUbylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnZlcnRUbyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdRdWFsaXR5JylcclxuXHRcdFx0LnNldERlc2MoJzAgLSBsb3cgcXVhbGl0eSwgMTAwIC0gaGlnaCBxdWFsaXR5LCA3NSAtIFJlY29tbWVuZGVkJylcclxuXHRcdFx0LmFkZFRleHQodGV4dCA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgcXVhbGl0eSAoMC0xMDApJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSgodGhpcy5wbHVnaW4uc2V0dGluZ3MucXVhbGl0eSAqIDEwMCkudG9TdHJpbmcoKSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyB2YWx1ZSA9PiB7XHJcblx0XHRcdFx0XHRcdGNvbnN0IHF1YWxpdHkgPSBwYXJzZUludCh2YWx1ZSk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoL15cXGQrJC8udGVzdCh2YWx1ZSkgJiYgcXVhbGl0eSA+PSAwICYmIHF1YWxpdHkgPD0gMTAwKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucXVhbGl0eSA9IHF1YWxpdHkgLyAxMDA7XHJcblx0XHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdJbWFnZSBSZXNpemUgTW9kZScpXHJcblx0XHRcdC5zZXREZXNjKCdUaGUgbW9kZSB0byB1c2Ugd2hlbiByZXNpemluZyB0aGUgaW1hZ2UnKVxyXG5cdFx0XHQuYWRkRHJvcGRvd24oZHJvcGRvd24gPT5cclxuXHRcdFx0XHRkcm9wZG93blxyXG5cdFx0XHRcdFx0LmFkZE9wdGlvbnMoeyBOb25lOiAnTm9uZScsIEZpdDogJ0ZpdCcsIEZpbGw6ICdGaWxsJywgTG9uZ2VzdFNpZGU6ICdMb25nZXN0IFNpZGUnLCBTaG9ydGVzdFNpZGU6ICdTaG9ydGVzdCBTaWRlJywgV2lkdGg6ICdXaWR0aCcsIEhlaWdodDogJ0hlaWdodCcgfSlcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXNpemVNb2RlKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MucmVzaXplTW9kZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICh2YWx1ZSAhPT0gJ05vbmUnKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gT3BlbiB0aGUgUmVzaXplTW9kYWwgd2hlbiBhbiBvcHRpb24gaXMgc2VsZWN0ZWRcclxuXHRcdFx0XHRcdFx0XHRjb25zdCBtb2RhbCA9IG5ldyBSZXNpemVNb2RhbCh0aGlzLnBsdWdpbik7XHJcblx0XHRcdFx0XHRcdFx0bW9kYWwub3BlbigpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZSgnQXV0byBSZW5hbWUnKVxyXG5cdFx0XHQuc2V0RGVzYyhcclxuXHRcdFx0XHRgQXV0b21hdGljYWxseSByZW5hbWUgZHJvcHBlZCBpbWFnZSBpbnRvIGN1cnJlbnQgbm90ZXMgbmFtZSArIHRvZGF5cyBkYXRlIChZWVlZTU1EREhITU1TUykuIEZvciBpbnN0YW5jZSwgaW1hZ2UgXCJ0ZXN0SW1hZ2UuanBnXCIgZHJvcHBlZCBpbnRvIG5vdGUgXCJIb3d0b3Rha2Vub3Rlcy5tZFwiIGJlY29tZXMgXCJIb3d0b3Rha2Vub3Rlcy0yMDIzMDkyNzE2NDQxMS53ZWJwXCJgXHJcblx0XHRcdClcclxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT5cclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvUmVuYW1lKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b1JlbmFtZSA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKCdJbWFnZSBEaXJlY3RvcnknKVxyXG5cdFx0XHQuc2V0RGVzYygnRGlyZWN0b3J5IHRvIG1vdmUgcHJvY2Vzc2VkIGltYWdlcyB0bycpXHJcblx0XHRcdC5hZGRUZXh0KHRleHQgPT5cclxuXHRcdFx0XHR0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGRpcmVjdG9yeSBwYXRoJylcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXJwYXRoKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jIHZhbHVlID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGlycGF0aCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdH1cclxufVxyXG5cclxuY2xhc3MgUmVzaXplTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XHJcblx0cGx1Z2luOiBNeVBsdWdpbjtcclxuXHJcblx0Y29uc3RydWN0b3IocGx1Z2luOiBNeVBsdWdpbikge1xyXG5cdFx0c3VwZXIocGx1Z2luLmFwcCk7XHJcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcclxuXHR9XHJcblxyXG5cdG9uT3BlbigpIHtcclxuXHRcdGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xyXG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XHJcblxyXG5cdFx0Ly8gQWRkIGFuIGV4cGxhbmF0aW9uIG9mIHRoZSBzZWxlY3RlZCByZXNpemUgbW9kZVxyXG5cdFx0bGV0IGV4cGxhbmF0aW9uID0gJyc7XHJcblx0XHRzd2l0Y2ggKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlc2l6ZU1vZGUpIHtcclxuXHRcdFx0Y2FzZSAnRml0JzpcclxuXHRcdFx0XHRleHBsYW5hdGlvbiA9ICdGaXQgbW9kZSByZXNpemVzIHRoZSBpbWFnZSB0byBmaXQgd2l0aGluIHRoZSBkZXNpcmVkIGRpbWVuc2lvbnMgd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2UuJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnRmlsbCc6XHJcblx0XHRcdFx0ZXhwbGFuYXRpb24gPSAnRmlsbCBtb2RlIHJlc2l6ZXMgdGhlIGltYWdlIHRvIGZpbGwgdGhlIGRlc2lyZWQgZGltZW5zaW9ucyB3aGlsZSBtYWludGFpbmluZyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBpbWFnZS4gVGhpcyBtYXkgcmVzdWx0IGluIGNyb3BwaW5nIG9mIHRoZSBpbWFnZS4nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdMb25nZXN0U2lkZSc6XHJcblx0XHRcdFx0ZXhwbGFuYXRpb24gPSAnTG9uZ2VzdCBTaWRlIG1vZGUgcmVzaXplcyB0aGUgbG9uZ2VzdCBzaWRlIG9mIHRoZSBpbWFnZSB0byBtYXRjaCB0aGUgZGVzaXJlZCBsZW5ndGggd2hpbGUgbWFpbnRhaW5pbmcgdGhlIGFzcGVjdCByYXRpbyBvZiB0aGUgaW1hZ2UuJztcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0Y2FzZSAnU2hvcnRlc3RTaWRlJzpcclxuXHRcdFx0XHRleHBsYW5hdGlvbiA9ICdTaG9ydGVzdCBTaWRlIG1vZGUgcmVzaXplcyB0aGUgc2hvcnRlc3Qgc2lkZSBvZiB0aGUgaW1hZ2UgdG8gbWF0Y2ggdGhlIGRlc2lyZWQgbGVuZ3RoIHdoaWxlIG1haW50YWluaW5nIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlLic7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdGNhc2UgJ1dpZHRoJzpcclxuXHRcdFx0XHRleHBsYW5hdGlvbiA9ICdXaWR0aCBtb2RlIHJlc2l6ZXMgdGhlIHdpZHRoIG9mIHRoZSBpbWFnZSB0byBtYXRjaCB0aGUgZGVzaXJlZCB3aWR0aCB3aGlsZSBtYWludGFpbmluZyB0aGUgYXNwZWN0IHJhdGlvIG9mIHRoZSBpbWFnZS4nO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRjYXNlICdIZWlnaHQnOlxyXG5cdFx0XHRcdGV4cGxhbmF0aW9uID0gJ0hlaWdodCBtb2RlIHJlc2l6ZXMgdGhlIGhlaWdodCBvZiB0aGUgaW1hZ2UgdG8gbWF0Y2ggdGhlIGRlc2lyZWQgaGVpZ2h0IHdoaWxlIG1haW50YWluaW5nIHRoZSBhc3BlY3QgcmF0aW8gb2YgdGhlIGltYWdlLic7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0XHRjb250ZW50RWwuY3JlYXRlRWwoJ3AnLCB7IHRleHQ6IGV4cGxhbmF0aW9uIH0pO1xyXG5cclxuXHRcdC8vIEFkZCBpbnB1dCBmaWVsZHMgZm9yIHRoZSBkZXNpcmVkIGRpbWVuc2lvbnMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHJlc2l6ZSBtb2RlXHJcblx0XHRpZiAoWydGaXQnLCAnRmlsbCddLmluY2x1ZGVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlc2l6ZU1vZGUpKSB7XHJcblx0XHRcdGNvbnN0IHdpZHRoSW5wdXQgPSBuZXcgVGV4dENvbXBvbmVudChjb250ZW50RWwpXHJcblx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKCdXaWR0aCcpXHJcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lyZWRXaWR0aC50b1N0cmluZygpKTtcclxuXHJcblx0XHRcdGNvbnN0IGhlaWdodElucHV0ID0gbmV3IFRleHRDb21wb25lbnQoY29udGVudEVsKVxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignSGVpZ2h0JylcclxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaXJlZEhlaWdodC50b1N0cmluZygpKTtcclxuXHJcblx0XHRcdC8vIEFkZCBhIGJ1dHRvbiB0byBzYXZlIHRoZSBzZXR0aW5ncyBhbmQgY2xvc2UgdGhlIG1vZGFsXHJcblx0XHRcdG5ldyBCdXR0b25Db21wb25lbnQoY29udGVudEVsKVxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdTYXZlJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCB3aWR0aCA9IHBhcnNlSW50KHdpZHRoSW5wdXQuZ2V0VmFsdWUoKSk7XHJcblx0XHRcdFx0XHRpZiAoL15cXGQrJC8udGVzdCh3aWR0aElucHV0LmdldFZhbHVlKCkpICYmIHdpZHRoID4gMCkge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZXNpcmVkV2lkdGggPSB3aWR0aDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRjb25zdCBoZWlnaHQgPSBwYXJzZUludChoZWlnaHRJbnB1dC5nZXRWYWx1ZSgpKTtcclxuXHRcdFx0XHRcdGlmICgvXlxcZCskLy50ZXN0KGhlaWdodElucHV0LmdldFZhbHVlKCkpICYmIGhlaWdodCA+IDApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaXJlZEhlaWdodCA9IGhlaWdodDtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdHRoaXMuY2xvc2UoKTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNvbnN0IGxlbmd0aElucHV0ID0gbmV3IFRleHRDb21wb25lbnQoY29udGVudEVsKVxyXG5cdFx0XHRcdC5zZXRQbGFjZWhvbGRlcignRW50ZXIgZGVzaXJlZCBsZW5ndGggaW4gcGl4ZWxzJylcclxuXHRcdFx0XHQuc2V0VmFsdWUoXHJcblx0XHRcdFx0XHRbJ0xvbmdlc3RTaWRlJywgJ1Nob3J0ZXN0U2lkZScsICdXaWR0aCcsICdIZWlnaHQnXS5pbmNsdWRlcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXNpemVNb2RlKVxyXG5cdFx0XHRcdFx0XHQ/IHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lyZWRXaWR0aC50b1N0cmluZygpXHJcblx0XHRcdFx0XHRcdDogdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaXJlZEhlaWdodC50b1N0cmluZygpXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdC8vIEFkZCBhIGJ1dHRvbiB0byBzYXZlIHRoZSBzZXR0aW5ncyBhbmQgY2xvc2UgdGhlIG1vZGFsXHJcblx0XHRcdG5ldyBCdXR0b25Db21wb25lbnQoY29udGVudEVsKVxyXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KCdTYXZlJylcclxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0XHRjb25zdCBsZW5ndGggPSBwYXJzZUludChsZW5ndGhJbnB1dC5nZXRWYWx1ZSgpKTtcclxuXHRcdFx0XHRcdGlmICgvXlxcZCskLy50ZXN0KGxlbmd0aElucHV0LmdldFZhbHVlKCkpICYmIGxlbmd0aCA+IDApIHtcclxuXHRcdFx0XHRcdFx0aWYgKFsnTG9uZ2VzdFNpZGUnXS5pbmNsdWRlcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXNpemVNb2RlKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lyZWRMZW5ndGggPSBsZW5ndGg7XHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmIChbJ1Nob3J0ZXN0U2lkZSddLmluY2x1ZGVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlc2l6ZU1vZGUpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaXJlZExlbmd0aCA9IGxlbmd0aDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgKFsnV2lkdGgnXS5pbmNsdWRlcyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZXNpemVNb2RlKSkge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlc2lyZWRXaWR0aCA9IGxlbmd0aDtcclxuXHRcdFx0XHRcdFx0fSBcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmIChbJ0hlaWdodCddLmluY2x1ZGVzKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlc2l6ZU1vZGUpKSB7XHJcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVzaXJlZEhlaWdodCA9IGxlbmd0aDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0dGhpcy5jbG9zZSgpO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBbUk7QUFDbkksV0FBc0I7QUFnQnRCLElBQU0sbUJBQXFDO0FBQUEsRUFDMUMsWUFBWTtBQUFBLEVBQ1osZUFBZTtBQUFBLEVBQ2YsY0FBYztBQUFBLEVBQ2QsY0FBYztBQUFBLEVBQ2QsV0FBVztBQUFBLEVBQ1gsU0FBUztBQUFBLEVBQ1QsU0FBUztBQUFBLEVBQ1QsWUFBWTtBQUFBLEVBQ1osY0FBYztBQUFBLEVBQ2QsZUFBZTtBQUFBLEVBQ2YsZUFBZTtBQUNoQjtBQUVB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
